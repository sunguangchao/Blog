Jsp全名为Java Server Pages，其根本是一个简化的Servlet设计，它实现了在Java当中使用HTML标签。Jsp是一种动态网页技术。与Servlet一样，是在服务器端执行的。

Jsp页面构成
===========
Jsp指令
-------

* page指令：通常位于jsp页面的顶端，同一个页面可以有多个page指令。
* include指令：将一个外部文件嵌入到当前JSP文件中，同时解析这个页面的中的JSP语句
* taglib指令：使用标签库定义新的自定义标签，在JSP页面中启动定制行为

Jsp注释
------------
HTML的注释：
```
<!-- html注释 --> //客户端可见
```
JSP的注释：
```
<%-- --%> //客户端不可见
```
JSP脚本的注释
```
//单行注释
/**/多行注释
```

Jsp脚本
-----------
在JSP页面执行的Java代码：
```
<% Java代码 %>
```

Jsp声明
---------
在JSP页面中定义变量或方法：
```
<%! Java代码 %>
```

Jsp表达式
--------
在JSP页面中执行的表达式：
```
<%=表达式%> //注意：表达式不以分号结束
```

JSP页面生命周期
==============
![](http://o90jubpdi.bkt.clouddn.com/JSP%E9%A1%B5%E9%9D%A2%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.png)
`jspService()`方法被调用来处理客户端的请求。对每一个请求，JSP引擎创建一个新的线程来处理该请求。如果有多个客户端同时请求该JSP文件，则JSP引擎会创建多个线程。每个客户端请求对应一个线程。以多线程的方式执行可以大大降低对系统的资源需求，提高系统的并发量及响应时间。但也注意多线程的编程带来同步问题，由于该Servlet常驻于内存，所以响应是很快的。

* JSP引擎先把该JSP文件转换成一个Java源文件（Servlet），在转换时如果发现JSP文件有任何语法错误，转换过程将中断，并向服务端和客户端输出出错信息。
* 如果转换成功，JSP引擎用javac把该Java源文件编译成相应的class文件。
* 创建一个该Servlet（JSP页面的转换结果）的实例，该Servlet的jspInit()方法被执行，jspInit()方法在Servlet的生命周期中只被执行一次。
* 就是转换为class文件后，他会创建一个Servlet的实例，然后调用Servlet的构造方法，再调用jspInit()方法
